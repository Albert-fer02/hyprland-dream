# Systemd Logind Configuration for Hyprland Dream
# Enhanced power management and lid close handling

[Login]
# Handle lid close events
HandleLidSwitch=suspend
HandleLidSwitchExternalPower=suspend
HandleLidSwitchDocked=suspend

# Handle power button events
HandlePowerKey=poweroff
HandleSuspendKey=suspend
HandleHibernateKey=hibernate

# Session management
KillUserProcesses=no
KillOnlyUsers=
KillExcludeUsers=root
InhibitDelayMaxSec=5
UserStopDelaySec=10

# Idle session handling
IdleAction=suspend
IdleActionSec=30min

# Remove IPC objects when user logs out
RemoveIPC=yes

# Don't suspend when external monitors are connected
HandleLidSwitchDocked=ignore

# Suspend on power button press
HandlePowerKey=suspend

# Suspend on sleep button press
HandleSuspendKey=suspend

# Hibernate on hibernate button press
HandleHibernateKey=hibernate

# Lock screen before suspend
HandleLidSwitch=suspend
HandleLidSwitchExternalPower=suspend

# Don't suspend when external monitors are connected
HandleLidSwitchDocked=ignore

# Power management
PowerKeyIgnoreInhibited=no
SuspendKeyIgnoreInhibited=no
HibernateKeyIgnoreInhibited=no
LidSwitchIgnoreInhibited=no

# Session management
SessionsMax=1000
UserTasksMax=1000 